---
import NavItem from './NavItem.astro'
const NavLinks = [
	{
		title: 'INICIO',
		href: '/'
	},
	{
		title: 'YO',
		href: '/quiensoy'
	},
	{
		title: 'BLOG',
		href: '/blog'
	},
	{
		title: 'PORTAFOLIO',
		href: '/portafolio'
	}
]

import Search from '@components/Search.astro'
---

<!--Navigator-fullscreen-->
<div
	id="navigation-content"
	class="bg-opacity-95 close-nav fixed z-50 flex h-screen w-full translate-y-[-200%] flex-col items-center justify-center border-b bg-[#020202] transition-transform duration-1000 ease-in-out"
>
	<div class="">
		<a title="logo" href="/">
			<img
				class="absolute top-[3%] left-[2.5%] z-[2] block h-20 cursor-pointer opacity-80 transition-all duration-300 ease-in-out hover:-rotate-45 hover:opacity-100"
				title="logo"
				src="/img/nav-logo.svg"
				alt="logo"
			/>
		</a>
	</div>
	<div
		class="duration-in-out absolute top-[6%] right-[4%] cursor-pointer p-2.5 opacity-80 transition-[all.3s] hover:rotate-90 hover:opacity-100"
		id="navigation-close"
	>
		<span
			class="m-1 block h-0.5 w-[35px] rotate-45 cursor-pointer rounded-[20px] bg-[whitesmoke] p-px"
		></span>
		<span
			class="m-1 block h-0.5 w-[35px] -rotate-45 cursor-pointer rounded-[20px] bg-[whitesmoke] p-px"
		></span>
	</div>

	<ul class="flex flex-col items-center justify-center gap-4">
		{NavLinks.map((link) => <NavItem {...link} />)}
	</ul>
</div>
<!--Navigator-Fullscreen END-->
<nav class="fixed z-40 h-[100px] w-full overflow-hidden bg-transparent p-2.5">
	{
		Astro.url.pathname !== '/' && (
			<a href="/" title="Ir a Inicio">
				<img
					class="absolute top-[15%] left-[2.5%] h-20 opacity-80 transition-all duration-300 ease-in-out hover:-rotate-45 hover:opacity-100"
					title="logo"
					loading="lazy"
					src="/img/logo.svg"
					alt="logo"
				/>
			</a>
		)
	}

	<div
		class="group absolute top-[40%] right-[4%] cursor-pointer opacity-80 transition-all duration-1000 ease-in-out hover:opacity-100"
		id="menubar"
	>
		<span
			class="relative m-1.5 block h-0.5 w-[35px] rounded-[20px] bg-transparent before:absolute before:top-0 before:right-0 before:h-full before:w-6/12 before:bg-[whitesmoke] before:transition-all before:duration-[0.3s] before:ease-in-out before:content-[''] group-hover:before:w-full"
		></span>
		<span
			class="relative m-1.5 block h-0.5 w-[35px] rounded-[20px] bg-transparent before:absolute before:top-0 before:right-0 before:h-full before:w-9/12 before:bg-[whitesmoke] before:transition-all before:duration-[0.3s] before:ease-in-out before:content-[''] group-hover:before:w-full"
		></span>
		<span
			class="relative m-1.5 block h-0.5 w-[35px] rounded-[20px] bg-transparent before:absolute before:top-0 before:right-0 before:h-full before:w-full before:bg-[whitesmoke] before:transition-all before:duration-[0.3s] before:ease-in-out before:content-[''] group-hover:before:w-full"
		></span>
		<span class="sr-only">Show Menu</span>
	</div>
	<div class="absolute top-[40%] right-[15%] flex md:right-[8%]">
		<Search />
	</div>
</nav>

<script is:inline>
	const menubar = document.querySelector('#menubar')
	const navigationContent = document.querySelector('#navigation-content')
	const navigationClose = document.querySelector('#navigation-close')
	function openNavigation() {
		navigationContent.classList.remove('close-nav')
		navigationContent.classList.add('open-nav')
		console.log('open')
	}

	function closeNavigation() {
		navigationContent.classList.add('close-nav')
		navigationContent.classList.remove('open-nav')
		console.log('close')
	}

	menubar.addEventListener('click', openNavigation)
	navigationClose.addEventListener('click', closeNavigation)
</script>

---
import type { ImageMetadata } from 'astro'
import { Image, getImage } from 'astro:assets'

const images = Astro.glob<{ default: ImageMetadata }>(
	'/src/assets/fotografia/*.{jpeg,jpg,png,gif,webp,avif}'
)
---

<div id="main">
	{
		images.map(async (imagePath) => {
			const image = images[imagePath]()
			const optimizedImage = await getImage({
				src: image,
				width: 1200
			})

			return (
				<article class="thumb">
					<a class="image" href={optimizedImage.src}>
						<Image src={image} height="750" alt="Astro Multiverse" />
					</a>
				</article>
			)
		})
	}
</div>
